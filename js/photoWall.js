var imageWidth,imgDataPath="/photos/galleryList.json",imgPath="/photos/images/",imgMaxNum=50,windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;imageWidth=windowWidth<768?145:250;const photo={page:1,offset:imgMaxNum,init:function(){var a=this;$.getJSON(imgDataPath,function(t){a.render(a.page,t),a.eventListen(t)})},constructHtml(t){var{imageWidth:t,imageX:a,imageY:i,imgPath:e,imgName:n,imgNameWithPattern:m}=t;return`<div class="card lozad" style="width:${t}px">
                  <div class="ImageInCard" style="height:${t*i/a}px">
                    <a data-fancybox="gallery" href="${e}${m}"
                          data-caption="${n}" title="${n}">
                            <img  class="lazyload" data-src="${e}${m}"
                            src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                            onload="lzld(this)"
                            lazyload="auto">
                    </a>
                  </div>
                  <p>${n}</p>
                </div>`},render:function(t,a=[]){if(!(this.data=a).length)return;var i,e,n,m,o="";let d="";var l="",[a={}]=(a.forEach((t,a)=>{a=0===a?"active":"";d+=`<li class="nav-item" role="presentation">
          <a class="nav-link ${a} photo-tab" id="home-tab" photo-uuid="${t.name}" data-toggle="tab" href="#${t.name}"  role="tab" aria-controls="${t.name}" aria-selected="true">${t.name}</a>
        </li>`}),a);const{children:s=[],name:r}=a;s.forEach((t,a)=>{i=t.slice(t.indexOf(" ")+1),e=i.split("/").pop(),m=t.split(" ")[0],n=m.split(".")[0],m=m.split(".")[1];t={imageWidth:imageWidth,imageX:n,imageY:m,name:r,imgName:e,imgPath:imgPath,imgNameWithPattern:i};o+=this.constructHtml(t)}),l+=` <div class="tab-pane fade show active"  role="tabpanel" aria-labelledby="home-tab">${o}</div>`;a=`<ul class="nav nav-tabs" id="myTab" role="tablist">${d}</ul>`,l=`<div class="tab-content" id="myTabContent">${l}</div>`;$("#imageTab").append(a),$(".ImageGrid").append(l),this.minigrid()},eventListen:function(m){let o=this;var d,l,s,r;$('a[data-toggle="tab"]').on("shown.bs.tab",function(t){$(".ImageGrid").empty();const a=$(t.target).attr("photo-uuid");const{children:i,name:e}=m.find(t=>t.name===a)||{};let n="";i.forEach((t,a)=>{d=t.split(" ")[1],l=d.split("/").pop(),r=t.split(" ")[0],s=r.split(".")[0],r=r.split(".")[1];t={imageWidth:imageWidth,imageX:s,imageY:r,name:e,imgName:l,imgPath:imgPath,imgNameWithPattern:d};n+=o.constructHtml(t)}),$(".ImageGrid").append(n),o.minigrid()})},minigrid:function(){var t=new Minigrid({container:".ImageGrid",item:".card",gutter:12});t.mount(),$(window).resize(function(){t.mount()})}};photo.init();